<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Generador de Apuntes desde PDF</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            background: #f5f6fa;
            margin: 0;
            padding: 0;
            color: #333;
        }

        header {
            background: #2c3e50;
            color: white;
            padding: 1.2rem;
            text-align: center;
        }

        .container {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h1 {
            margin-top: 0;
            text-align: center;
            font-size: 1.8rem;
        }

        label {
            display: block;
            margin-top: 1rem;
            font-weight: bold;
        }

        input, textarea, select {
            width: 100%;
            padding: 0.7rem;
            margin-top: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            margin-top: 1.5rem;
            width: 100%;
            padding: 0.9rem;
            font-size: 1rem;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background: #2980b9;
        }

        .output {
            margin-top: 2rem;
            background: #f0f0f0;
            padding: 1.5rem;
            border-radius: 8px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            font-size: 1rem;
        }

        @media (max-width: 600px) {
            .container {
                margin: 1rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h2>üìò Generador de Apuntes desde PDF</h2>
    </header>
    <div class="container">
        <form id="pdfForm">
            <label for="pdf">Seleccionar PDF:</label>
            <input type="file" id="pdf" name="pdf" accept=".pdf" required>

            <label for="start">P√°gina de inicio:</label>
            <input type="number" id="start" name="start" required min="1">

            <label for="end">P√°gina final:</label>
            <input type="number" id="end" name="end" required min="1">

            <label for="step">Dividir de a cu√°ntas p√°ginas:</label>
            <input type="number" id="step" name="step" required min="1">

            <label for="prompt">Indicaci√≥n inicial para OpenAI:</label>
            <textarea id="prompt" name="prompt" rows="8">Tom√° el rol de un experto en literatura argentina, con 20 a√±os de experiencia en la ense√±anza de la misma para alumnos de secundaria de forma muy did√°ctica y con una forma de explicar clar√≠sima que tus alumnos te aman por lo bien que explicas tan clara y sencillamente t√≥picos de baja hasta alta complejidad.

                A continuaci√≥n te pasar√© la primera parte de un texto que es una novela de la autora Selva Almada, "No es un R√≠o". A partir de eso que te pase hacete ultra experto y hazme un apunte muy detallado que abarqu√© absolutamente todo lo que contiene esa parte del texto para que yo pueda saber absolutamente todo sin perderme ninguna informaci√≥n y lograr posteriormente hacer examenes excelentes.
                
                Luego te seguir√© pasando las siguientes partes del texto en los siguientes prompts, te lo hago particionado ya que es larguisimo el texto.
                
                Con cada prompt que te mando con el texto hac√© lo indicado anteriormente del apunte, de forma que finalmente me quede un apunte ultra completo y excelente de la totalidad del texto.
                
                No lo escribas como un analisis las cosas, sino como ir contando, todo facil lo que ocurre en cada parte de la novela, EN TODAS LAS PARTES, SIN PASAR POR ALTO NADA NI OMITIR NINGUNA INFO.
                
                Muchas gracias, espero lo hagas fabuloso.
                </textarea>
                

            <button type="submit">üì§ Procesar PDF y generar apunte</button>
        </form>

        <div class="output" id="output" style="display:none;"></div>
    </div>

    <script>
        document.getElementById("pdfForm").addEventListener("submit", function (e) {
            e.preventDefault();

            const formData = new FormData(this);
            const output = document.getElementById("output");
            output.style.display = "block";
            output.innerText = "‚è≥ Procesando... Por favor, esper√°...";

            fetch("/process", {
                method: "POST",
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    output.innerText = data.apunte;
                })
                .catch(error => {
                    output.innerText = "‚ùå Ocurri√≥ un error al procesar el PDF.";
                    console.error(error);
                });
        });
    </script>
</body>
</html>
